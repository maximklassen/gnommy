class Gnommy{textfield;textfieldbox;editorbox;editorfield;buttonbox;footerbox;pEnter=!1;showHtml=!1;noResize=!1;constructor(t,e={}){e.noResize&&(this.noResize=!0),e.pEnter&&(this.pEnter=!0),e.showHtml&&(this.showHtml=!0),e.height&&(this.fieldHeight=parseInt(e.height)),this.textfield=this.checkTextarea(t),this.textfield.style=!1,this.init()}checkTextarea(t){if("string"==typeof t&&(t=document.querySelector(t)),t&&t instanceof HTMLElement){if("textarea"!==t.tagName.toLowerCase()){let e=document.createElement("textarea");e.setAttribute("name",t.getAttribute("name")),e.setAttribute("id",t.getAttribute("id")),t=e}return t}return!1}createButton(){let t=document.createElement("button");return t.classList.add("gnommy-editor-button"),t}fragmentWrap(t,e=null,i=!1){let n=null;if((n=document.getSelection())&&n.rangeCount>0){let o=n.getRangeAt(0);if((n.anchorNode.parentNode.closest(".gnommy-editor-field")||n.anchorNode.parentNode.classList.contains("gnommy-editor-field"))&&n.anchorNode.parentNode.closest(".gnommy-editor-box")===this.editorbox){if(n.focusOffset!=n.anchorOffset){let s,$;n.anchorOffset<n.focusOffset?(s=n.anchorOffset,$=n.focusOffset):(s=n.focusOffset,$=n.anchorOffset);let a,d;if(o.startOffset==n.anchorOffset?(a=n.anchorNode.parentNode??n.anchorNode,d=n.focusNode.parentNode??n.focusNode):(a=n.focusNode.parentNode??n.focusNode,d=n.anchorNode.parentNode??n.anchorNode),t.toUpperCase()==n.focusNode.parentNode.nodeName||t.nodeName&&t.nodeName==n.focusNode.parentNode.nodeName||t.toLowerCase()==n.anchorNode.parentNode.nodeName||t.nodeName&&t.nodeName==n.anchorNode.parentNode.nodeName){o.setStartBefore(a),o.setEndAfter(d);let l=o.extractContents();o.insertNode(this.unwrap(l.childNodes,t))}else{let r=o.extractContents();o.insertNode(this.wrap(r,t,e))}o.collapse()}else if(i){let h=document.createElement(t),_=document.createElement("br");h.append(_),o.insertNode(h),o.setEndAfter(_),o.setStartAfter(_)}}}}editImagePopup(t){let e=this,i=null,n=null,o=1,s=null,$=null,a=1;i=t.width,n=t.height,i&&n&&(o=i/n),s=t.naturalWidth,$=t.naturalHeight,s&&$&&(a=s/$),!i&&s&&(i=s),!n&&$&&(n=$),this.imgeditbox=document.createElement("div"),this.imgeditbox.classList.add("gnommy-editor-imgedit-box"),this.imgeditTitle=document.createElement("h4"),this.imgeditTitle.innerHTML="Edit image",this.imgeditFieldLabel=document.createElement("label"),this.imgeditFieldLabel.setAttribute("for","imagesrc"),this.imgeditFieldLabel.innerHTML="Image source",this.imgeditField=document.createElement("input"),this.imgeditField.type="text",this.imgeditField.name="imagesrc",this.imgeditField.id="imagesrc";let d=t.getAttribute("src");function l(t){t=parseInt(t),e.imgeditAspectRatio.checked&&t&&t>0&&(n=Math.round(t/a),e.imgeditSizeHeight.value=n)}function r(t){t=parseInt(t),e.imgeditAspectRatio.checked&&t&&t>0&&(i=Math.round(t*a),e.imgeditSizeWidth.value=i)}return this.imgeditField.value=d,this.imgeditTextLabel=document.createElement("label"),this.imgeditTextLabel=document.createElement("label"),this.imgeditTextLabel.setAttribute("for","imagesrc"),this.imgeditTextLabel.innerHTML="Alternate text",this.imgeditText=document.createElement("input"),this.imgeditText.type="text",this.imgeditText.name="imagealt",this.imgeditText.id="imagealt",this.imgeditText.value=t.getAttribute("alt"),this.imgeditField.addEventListener("change",function(){let i=a;t&&this.value==d||(t.src=this.value,t.onload=function(){s=this.naturalWidth,$=this.naturalHeight,e.imgeditSizeWidth.value=s,e.imgeditSizeHeight.value=$,a=s&&$?s/$:i},t.onerror=function(){s=null,$=null,e.imgeditSizeWidth.value=s,e.imgeditSizeHeight.value=$,a=i})}),this.imgeditSizeBox=document.createElement("div"),this.imgeditSizeBox.classList.add("gnommy-editor-imagepopup-size"),this.imgeditSizeWidthLabel=document.createElement("label"),this.imgeditSizeWidthLabel.setAttribute("for","imagewidth"),this.imgeditSizeWidthLabel.innerHTML="Width",this.imgeditSizeWidth=document.createElement("input"),this.imgeditSizeWidth.type="number",this.imgeditSizeWidth.name="imagewidth",this.imgeditSizeWidth.id="imagewidth",this.imgeditSizeWidth.value=i,this.imgeditSizeHeightLabel=document.createElement("label"),this.imgeditSizeHeightLabel.setAttribute("for","imageheight"),this.imgeditSizeHeightLabel.innerHTML="Height",this.imgeditSizeHeight=document.createElement("input"),this.imgeditSizeHeight.type="number",this.imgeditSizeHeight.name="imageheight",this.imgeditSizeHeight.id="imageheight",this.imgeditSizeHeight.value=n,this.imgeditAspectRatioLabel=document.createElement("label"),this.imgeditAspectRatioLabel.setAttribute("for","imageratio"),this.imgeditAspectRatioLabel.innerHTML="Keep aspect ratio",this.imgeditAspectRatio=document.createElement("input"),this.imgeditAspectRatio.type="checkbox",this.imgeditAspectRatio.name="imageratio",this.imgeditAspectRatio.id="imageratio",this.imgeditAspectRatio.checked=Math.round(10*a)==Math.round(10*o),this.imgeditSizeBox.append(this.imgeditSizeWidthLabel,this.imgeditSizeWidth,this.imgeditSizeHeightLabel,this.imgeditSizeHeight,this.imgeditAspectRatio,this.imgeditAspectRatioLabel),this.imgeditSizeWidth.addEventListener("input",function(){l(this.value)}),this.imgeditSizeWidth.addEventListener("change",function(){l(this.value)}),this.imgeditSizeHeight.addEventListener("input",function(){r(this.value)}),this.imgeditSizeHeight.addEventListener("change",function(){r(this.value)}),this.imgeditButtonBox=document.createElement("div"),this.imgeditButtonBox.classList.add("gnommy-editor-imagepopup-buttons"),this.imgeditOkButton=document.createElement("button"),this.imgeditOkButton.innerHTML="OK",this.imgeditCancelButton=document.createElement("button"),this.imgeditCancelButton.innerHTML="Cancel",this.imgeditButtonBox.append(this.imgeditOkButton,this.imgeditCancelButton),this.imgeditbox.append(this.imgeditTitle,this.imgeditFieldLabel,this.imgeditField,this.imgeditTextLabel,this.imgeditText,this.imgeditSizeBox,this.imgeditButtonBox),this.imgeditCancelButton.addEventListener("click",function(){e.closePopup()}),this.imgeditOkButton.addEventListener("click",function(){if(!t||!e.imgeditField.value)return!1;t.src=e.imgeditField.value,e.imgeditText.value.length?t.alt=e.imgeditText.value:t.removeAttribute("alt"),e.imgeditSizeWidth.value.length?t.width=e.imgeditSizeWidth.value:t.removeAttribute("width"),e.imgeditSizeHeight.value.length?t.height=e.imgeditSizeHeight.value:t.removeAttribute("height"),e.closePopup()}),this.imgeditbox}createImagePopup(t=null,e=null){let i=this,n=null,o=null,s=1,$=!1;function a(t){t=parseInt(t),i.imgeditAspectRatio.checked&&t&&t>0&&(o=Math.round(t/s),i.imgeditSizeHeight.value=o)}function d(t){t=parseInt(t),i.imgeditAspectRatio.checked&&t&&t>0&&(n=Math.round(t*s),i.imgeditSizeWidth.value=n)}return e?e&&(t=e.src):(e=new Image,t&&(e.src=t)),e.onerror=function(){$=!1},e.onload=function(){n=this.width,o=this.height,n&&o&&(s=n/o),$=!0},this.imgeditbox=document.createElement("div"),this.imgeditbox.classList.add("gnommy-editor-imgedit-box"),this.imgeditTitle=document.createElement("h4"),this.imgeditTitle.innerHTML="Add image",this.imgeditFieldLabel=document.createElement("label"),this.imgeditFieldLabel.setAttribute("for","imagesrc"),this.imgeditFieldLabel.innerHTML="Image source",this.imgeditField=document.createElement("input"),this.imgeditField.type="text",this.imgeditField.name="imagesrc",this.imgeditField.id="imagesrc",this.imgeditField.value=t,this.imgeditTextLabel=document.createElement("label"),this.imgeditTextLabel=document.createElement("label"),this.imgeditTextLabel.setAttribute("for","imagesrc"),this.imgeditTextLabel.innerHTML="Alternate text",this.imgeditText=document.createElement("input"),this.imgeditText.type="text",this.imgeditText.name="imagealt",this.imgeditText.id="imagealt",this.imgeditField.addEventListener("change",function(){e.src=this.value,e.onload=function(){n=this.width,o=this.height,i.imgeditSizeWidth.value=n,i.imgeditSizeHeight.value=o,s=n&&o?n/o:1,$=!0},e.onerror=function(){n=null,o=null,i.imgeditSizeWidth.value=n,i.imgeditSizeHeight.value=o,s=1,$=!1}}),this.imgeditSizeBox=document.createElement("div"),this.imgeditSizeBox.classList.add("gnommy-editor-imagepopup-size"),this.imgeditSizeWidthLabel=document.createElement("label"),this.imgeditSizeWidthLabel.setAttribute("for","imagewidth"),this.imgeditSizeWidthLabel.innerHTML="Width",this.imgeditSizeWidth=document.createElement("input"),this.imgeditSizeWidth.type="number",this.imgeditSizeWidth.name="imagewidth",this.imgeditSizeWidth.id="imagewidth",this.imgeditSizeWidth.value=n,this.imgeditSizeHeightLabel=document.createElement("label"),this.imgeditSizeHeightLabel.setAttribute("for","imageheight"),this.imgeditSizeHeightLabel.innerHTML="Height",this.imgeditSizeHeight=document.createElement("input"),this.imgeditSizeHeight.type="number",this.imgeditSizeHeight.name="imageheight",this.imgeditSizeHeight.id="imageheight",this.imgeditSizeHeight.value=o,this.imgeditAspectRatioLabel=document.createElement("label"),this.imgeditAspectRatioLabel.setAttribute("for","imageratio"),this.imgeditAspectRatioLabel.innerHTML="Keep aspect ratio",this.imgeditAspectRatio=document.createElement("input"),this.imgeditAspectRatio.type="checkbox",this.imgeditAspectRatio.name="imageratio",this.imgeditAspectRatio.id="imageratio",this.imgeditAspectRatio.checked=!0,this.imgeditSizeBox.append(this.imgeditSizeWidthLabel,this.imgeditSizeWidth,this.imgeditSizeHeightLabel,this.imgeditSizeHeight,this.imgeditAspectRatio,this.imgeditAspectRatioLabel),this.imgeditSizeWidth.addEventListener("input",function(){a(this.value)}),this.imgeditSizeWidth.addEventListener("change",function(){a(this.value)}),this.imgeditSizeHeight.addEventListener("input",function(){d(this.value)}),this.imgeditSizeHeight.addEventListener("change",function(){d(this.value)}),this.imgeditButtonBox=document.createElement("div"),this.imgeditButtonBox.classList.add("gnommy-editor-imagepopup-buttons"),this.imgeditOkButton=document.createElement("button"),this.imgeditOkButton.innerHTML="OK",this.imgeditCancelButton=document.createElement("button"),this.imgeditCancelButton.innerHTML="Cancel",this.imgeditButtonBox.append(this.imgeditOkButton,this.imgeditCancelButton),this.imgeditbox.append(this.imgeditTitle,this.imgeditFieldLabel,this.imgeditField,this.imgeditTextLabel,this.imgeditText,this.imgeditSizeBox,this.imgeditButtonBox),this.imgeditCancelButton.addEventListener("click",function(){i.closePopup()}),this.imgeditOkButton.addEventListener("click",function(){if(!$)return!1;i.setImage(e)}),this.imgeditbox}setImage(t){let e=document.getSelection();if(!e||!e.anchorNode||!this.imgeditField.value||0==this.imgeditField.value.length)return!1;if(e&&e.rangeCount>0){let i=e.getRangeAt(0);this.lastRange.container&&"IMG"==this.lastRange.container.nodeName?(this.lastRange.container.src=this.imgeditField.value,this.lastRange.container.setAttribute("alt",this.imgeditText.value),this.imgeditSizeWidth.value&&this.imgeditSizeWidth.value.length>0&&this.lastRange.container.setAttribute("width",this.imgeditSizeWidth.value),this.imgeditSizeHeight.value&&this.imgeditSizeHeight.value.length>0&&this.lastRange.container.setAttribute("height",this.imgeditSizeHeight.value),i.setEndAfter(this.lastRange.container),i.setStartAfter(this.lastRange.container),this.contentClone(this.editorfield,this.textfield)):(t.setAttribute("alt",this.imgeditText.value),this.imgeditSizeWidth.value&&this.imgeditSizeWidth.value.length>0&&t.setAttribute("width",this.imgeditSizeWidth.value),this.imgeditSizeHeight.value&&this.imgeditSizeHeight.value.length>0&&t.setAttribute("height",this.imgeditSizeHeight.value),i.setStart(this.lastRange.startContainer,this.lastRange.startOffset),i.setEnd(this.lastRange.endContainer,this.lastRange.endOffset),i.deleteContents(),i.insertNode(t),i.setEndAfter(t),i.setEndAfter(t)),this.setImageContext(t),i.collapse()}this.closePopup()}createHeaderPopup(){let t=this;return this.heditbox=document.createElement("div"),this.heditbox.classList.add("gnommy-editor-hedit-box"),this.heditButtonOne=document.createElement("button"),this.heditButtonOne.classList.add("gnommy-editor-hedit-button"),this.heditButtonOne.innerHTML="Header 1",this.heditButtonOne.addEventListener("click",function(){t.fragmentWrap("h1",null,!0),t.closePopup()}),this.heditButtonTwo=document.createElement("button"),this.heditButtonTwo.classList.add("gnommy-editor-hedit-button"),this.heditButtonTwo.innerHTML="Header 2",this.heditButtonTwo.addEventListener("click",function(){t.fragmentWrap("h2",null,!0),t.closePopup()}),this.heditButtonThree=document.createElement("button"),this.heditButtonThree.classList.add("gnommy-editor-hedit-button"),this.heditButtonThree.innerHTML="Header 3",this.heditButtonThree.addEventListener("click",function(){t.fragmentWrap("h3",null,!0),t.closePopup()}),this.heditButtonFour=document.createElement("button"),this.heditButtonFour.classList.add("gnommy-editor-hedit-button"),this.heditButtonFour.innerHTML="Header 4",this.heditButtonFour.addEventListener("click",function(){t.fragmentWrap("h4",null,!0),t.closePopup()}),this.heditButtonFive=document.createElement("button"),this.heditButtonFive.classList.add("gnommy-editor-hedit-button"),this.heditButtonFive.innerHTML="Header 5",this.heditButtonFive.addEventListener("click",function(){t.fragmentWrap("h5",null,!0),t.closePopup()}),this.heditButtonSix=document.createElement("button"),this.heditButtonSix.classList.add("gnommy-editor-hedit-button"),this.heditButtonSix.innerHTML="Header 6",this.heditButtonSix.addEventListener("click",function(){t.fragmentWrap("h6",null,!0),t.closePopup()}),this.linkeditButtonBox=document.createElement("div"),this.linkeditButtonBox.classList.add("gnommy-editor-linkpopup-buttons"),this.linkeditCancelButton=document.createElement("button"),this.linkeditCancelButton.innerHTML="Cancel",this.linkeditButtonBox.append(this.linkeditCancelButton),this.heditbox.append(this.heditButtonOne,this.heditButtonTwo,this.heditButtonThree,this.heditButtonFour,this.heditButtonFive,this.heditButtonSix,this.linkeditButtonBox),this.linkeditCancelButton.addEventListener("click",function(){t.closePopup()}),this.heditbox}createLinkPopup(t="",e=""){let i=this;return"string"==typeof t&&t.length>0&&(!e||0==e.length)&&("/"==t.slice(0,1)||"http"==t.slice(0,4).toLowerCase())&&(e=t),this.linkeditbox=document.createElement("div"),this.linkeditbox.classList.add("gnommy-editor-linkedit-box"),this.linkeditTitle=document.createElement("h4"),this.linkeditTitle.innerHTML="Create link",this.linkeditTextLabel=document.createElement("label"),this.linkeditTextLabel.setAttribute("for","linktext"),this.linkeditTextLabel.innerHTML="Text",this.linkeditText=document.createElement("textarea"),this.linkeditText.name="linktext",this.linkeditText.id="linktext",this.linkeditText.value=t,this.linkeditLinkLabel=document.createElement("label"),this.linkeditLinkLabel.setAttribute("for","linkvalue"),this.linkeditLinkLabel.innerHTML="Link",this.linkeditLink=document.createElement("input"),this.linkeditLink.type="text",this.linkeditLink.name="linkvalue",this.linkeditLink.id="linkvalue",this.linkeditLink.value=e,this.linkeditButtonBox=document.createElement("div"),this.linkeditButtonBox.classList.add("gnommy-editor-linkpopup-buttons"),this.linkeditOkButton=document.createElement("button"),this.linkeditOkButton.innerHTML="OK",this.linkeditCancelButton=document.createElement("button"),this.linkeditCancelButton.innerHTML="Cancel",this.linkeditButtonBox.append(this.linkeditOkButton,this.linkeditCancelButton),this.linkeditbox.append(this.linkeditTitle,this.linkeditTextLabel,this.linkeditText,this.linkeditLinkLabel,this.linkeditLink,this.linkeditButtonBox),this.linkeditCancelButton.addEventListener("click",function(){i.closePopup()}),this.linkeditOkButton.addEventListener("click",function(){i.setLink(i.linkeditLink.value,i.linkeditText.value)}),this.linkeditbox}unsetLink(){let t=null;if(!(t=document.getSelection())||!t.anchorNode)return!1;if((t.anchorNode.parentNode.closest(".gnommy-editor-field")||t.anchorNode.parentNode.classList.contains("gnommy-editor-field"))&&t.anchorNode.parentNode.closest(".gnommy-editor-box")===this.editorbox&&t&&t.rangeCount>0){let e=t.getRangeAt(0),i=e.commonAncestorContainer,n=e.startContainer,o=e.endContainer,s=!1,$;(s="A"==i.nodeName?i:this.getParent(i,"A"))?s.firstChild===n&&s.lastChild!==o?(e.setStartBefore(s.firstChild),$=e.extractContents(),e.setStartBefore(s),e.setEndBefore(s),e.insertNode($)):s.firstChild!==n&&s.lastChild===o?(e.setStartAfter(s.lastChild),$=e.extractContents(),e.setStartAfter(s),e.setEndAfter(s),e.insertNode($)):(e.selectNode(s),$=e.extractContents(),e.insertNode(this.unwrap($.childNodes,"a")),e.collapse()):($=e.extractContents(),e.insertNode(this.unwrap($.childNodes,"a")),e.collapse())}}setLink(t,e=""){if(this.isEmpty(e)&&(e=t),!t||0==t.length)return!1;let i=document.getSelection();if(i&&i.rangeCount>0){let n=i.getRangeAt(0);if(this.lastRange.container&&"A"==this.lastRange.container.nodeName)this.lastRange.container.innerHTML=e,this.lastRange.container.setAttribute("href",t),n.setEndAfter(this.lastRange.container),n.setStartAfter(this.lastRange.container),this.contentClone(this.editorfield,this.textfield);else{let o=document.createElement("a");o.setAttribute("href",t),o.innerHTML=e,n.setStart(this.lastRange.startContainer,this.lastRange.startOffset),n.setEnd(this.lastRange.endContainer,this.lastRange.endOffset),n.deleteContents(),n.insertNode(o),n.setEndAfter(o),n.setEndAfter(o)}n.collapse()}this.closePopup()}getPopupLink(){let t=null;if(!(t=document.getSelection())||!t.anchorNode)return!1;if((t.anchorNode.parentNode.closest(".gnommy-editor-field")||t.anchorNode.parentNode.classList.contains("gnommy-editor-field"))&&t.anchorNode.parentNode.closest(".gnommy-editor-box")===this.editorbox&&t&&t.rangeCount>0){let e=t.getRangeAt(0),i=this.elementToString(e.cloneContents()),n=e.commonAncestorContainer,o="";"A"==n.nodeName&&(e.selectNode(n),i=n.innerHTML,o=n.href),this.openPopup(this.createLinkPopup(i,o),"link"),this.lastRange={startContainer:e.startContainer,startOffset:e.startOffset,endContainer:e.endContainer,endOffset:e.endOffset,container:n}}}getPopupImage(){let t=null;if(!(t=document.getSelection())||!t.anchorNode)return!1;if(t&&t.rangeCount>0){let e=t.getRangeAt(0),i=e.commonAncestorContainer,n="",o=null;"IMG"==i.nodeName&&(e.selectNode(i),n=i.src,o=i),this.openPopup(this.createImagePopup(n,o),"image"),this.lastRange={startContainer:e.startContainer,startOffset:e.startOffset,endContainer:e.endContainer,endOffset:e.endOffset,container:i}}}init(){let t=this;this.editorbox=document.createElement("div"),this.editorbox.classList.add("gnommy-editor-box"),this.buttonbox=document.createElement("div"),this.buttonbox.classList.add("gnommy-editor-buttons"),this.popuplayer=document.createElement("div"),this.popuplayer.classList.add("gnommy-editor-popup-layer"),this.popupwindow=document.createElement("div"),this.popupwindow.classList.add("gnommy-editor-popup-window"),this.popuplayer.append(this.popupwindow),this.editorbox.append(this.popuplayer),this.headerButton=this.createButton(),this.headerButton.innerHTML="<b>H</b>",this.headerButton.title="Header",this.headerButton.addEventListener("click",function(){t.openPopup(t.createHeaderPopup(),"header")}),this.boldButton=this.createButton(),this.boldButton.innerHTML="<b>B</b>",this.boldButton.title="Bold",this.boldButton.addEventListener("click",function(){t.fragmentWrap("b")}),this.italicButton=this.createButton(),this.italicButton.innerHTML="<i>I</i>",this.italicButton.title="Italic",this.italicButton.addEventListener("click",function(){t.fragmentWrap("i")}),this.underlineButton=this.createButton(),this.underlineButton.innerHTML="<u>U</u>",this.underlineButton.title="Underline",this.underlineButton.addEventListener("click",function(){t.fragmentWrap("u")}),this.strikeButton=this.createButton(),this.strikeButton.innerHTML="<s>S</s>",this.strikeButton.title="Strike",this.strikeButton.addEventListener("click",function(){t.fragmentWrap("s")}),this.colorButton=this.createButton(),this.colorButton.title="Text color",this.colorButton.insertAdjacentHTML("afterbegin",this.buttonPictures.color),this.colorButton.addEventListener("click",function(){t.createColorPopup()}),this.ulButton=this.createButton(),this.ulButton.title="Unordered list",this.ulButton.addEventListener("click",function(){t.setList()}),this.ulButton.insertAdjacentHTML("afterbegin",this.buttonPictures.ul),this.olButton=this.createButton(),this.olButton.title="Ordered list",this.olButton.addEventListener("click",function(){t.setList(!0)}),this.olButton.insertAdjacentHTML("afterbegin",this.buttonPictures.ol),this.linkButton=this.createButton(),this.linkButton.title="Link",this.linkButton.addEventListener("click",function(){t.getPopupLink()}),this.linkButton.insertAdjacentHTML("afterbegin",this.buttonPictures.link),this.unlinkButton=this.createButton(),this.unlinkButton.title="Remove link",this.unlinkButton.addEventListener("click",function(){t.unsetLink()}),this.unlinkButton.insertAdjacentHTML("afterbegin",this.buttonPictures.unlink),this.imageButton=this.createButton(),this.imageButton.title="Add image",this.imageButton.addEventListener("click",function(){t.getPopupImage()}),this.imageButton.insertAdjacentHTML("afterbegin",this.buttonPictures.image),this.buttonbox.append(this.headerButton,this.boldButton,this.italicButton,this.underlineButton,this.strikeButton,this.colorButton,this.imageButton,this.linkButton,this.unlinkButton,this.ulButton,this.olButton),this.editorfieldbox=document.createElement("div"),this.editorfieldbox.classList.add("gnommy-editor-field-box"),this.fieldHeight&&(this.editorfieldbox.style.height=this.fieldHeight+"px"),this.editorfield=document.createElement("div"),this.editorfield.classList.add("gnommy-editor-field"),this.editorfield.setAttribute("contenteditable",!0),this.editorresizebox=document.createElement("div"),this.editorresizebox.classList.add("gnommy-editor-resize-box"),this.editorresizebox.addEventListener("mousedown",function(e){t.resizable=!0,t.startResizeY=e.pageY,t.startResizeH=t.editorfieldbox.clientHeight}),this.editorresizebox.addEventListener("mouseup",function(){t.resizable=!1,t.startResizeY=t.currentResizeY,t.startResizeH=t.currentResizeH}),this.editorbox.addEventListener("mousemove",function(e){t.resizable&&(t.currentResizeY=e.pageY-t.startResizeY,t.currentResizeH=t.startResizeH+t.currentResizeY,t.editorfieldbox.style.height=t.currentResizeH+"px")}),this.editorfieldbox.append(this.editorfield),this.textfieldbox=document.createElement("div"),this.textfieldbox.classList.add("gnommy-editor-htmlbox"),this.showHtml&&this.textfieldbox.classList.add("active"),this.footerbox=document.createElement("div"),this.footerbox.classList.add("gnommy-editor-footer"),this.footerbox.innerHTML="Enter = &lt;br&gt; &nbsp; &nbsp; Ctrl+Enter = &lt;p&gt;",this.htmlexpandbutton=document.createElement("div"),this.htmlexpandbutton.classList.add("gnommy-editor-html-button"),this.htmlexpandbutton.innerHTML="&lt;/&gt;",this.htmlexpandbutton.setAttribute("title","Show/hide HTML-code"),this.htmlexpandbutton.addEventListener("click",function(){t.textfieldbox.classList.toggle("active")}),this.footerbox.append(this.htmlexpandbutton),this.editorbox.append(this.buttonbox),this.editorbox.append(this.editorfieldbox),this.noResize||this.editorbox.append(this.editorresizebox),this.editorbox.append(this.footerbox),this.editorbox.append(this.textfieldbox),this.textfield.after(this.editorbox),this.textfieldbox.append(this.textfield),this.editorfield.addEventListener("keydown",function(e){if("Enter"==e.code||"NumpadEnter"==e.code){let i=e.ctrlKey;t.pEnter&&(i=!e.ctrlKey),t.setBreak(i),e.preventDefault()}}),this.editorfield.addEventListener("input",function(){t.contentClone(this,t.textfield)}),this.editorfield.addEventListener("DOMNodeInserted",function(){t.contentClone(this,t.textfield)}),this.editorfield.addEventListener("DOMNodeRemoved",function(){t.contentClone(this,t.textfield)}),this.editorfield.addEventListener("DOMCharacterDataModified",function(){t.contentClone(this,t.textfield)}),this.editorfield.addEventListener("DOMAttributeNameChanged",function(){t.contentClone(this,t.textfield)}),this.editorfield.addEventListener("DOMAttrModified",function(){t.contentClone(this,t.textfield)}),this.editorfield.addEventListener("DOMElementNameChanged",function(){t.contentClone(this,t.textfield)}),this.editorfield.addEventListener("DOMSubtreeModified",function(){t.contentClone(this,t.textfield)}),this.textfield.addEventListener("input",function(){t.contentClone(this,t.editorfield,!1)}),t.contentClone(this.textfield,t.editorfield,!1),this.setImagesContext()}setImagesContext(){let t=this.editorfield.querySelectorAll("img"),e=this;t&&t.forEach(t=>{t.addEventListener("mouseover",function(i){e.createImageMenu(t)}),t.addEventListener("mouseout",function(t){e.imageMenuBox&&t.relatedTarget!==e.imageMenuBox&&e.removeImageMenu()})})}setImageContext(t){let e=this;t.addEventListener("mouseover",function(i){e.createImageMenu(t)}),t.addEventListener("mouseout",function(t){e.imageMenuBox&&t.relatedTarget!==e.imageMenuBox&&e.removeImageMenu()})}createColorPopup(t=!1){let e=null;if(!(e=document.getSelection())||!e.anchorNode)return!1;if(e&&e.rangeCount>0){let i=e.getRangeAt(0),n=i.commonAncestorContainer,o="textcolor";t&&(o="selectcolor"),this.openPopup(this.createColor(t),o),this.lastRange={startContainer:i.startContainer,startOffset:i.startOffset,endContainer:i.endContainer,endOffset:i.endOffset,container:n}}}setTextColor(t){if(t){let e=new Range;e.setStart(this.lastRange.startContainer,this.lastRange.startOffset),e.setEnd(this.lastRange.endContainer,this.lastRange.endOffset);let i=this.unwrap(e.extractContents().childNodes,"span",!0,"color");e.insertNode(this.wrap(i,"span",{color:t})),this.closePopup()}}setBgColor(t){if(t){let e=new Range;e.setStart(this.lastRange.startContainer,this.lastRange.startOffset),e.setEnd(this.lastRange.endContainer,this.lastRange.endOffset);let i=this.unwrap(e.extractContents().childNodes,"span",!0,"backgroundColor");e.insertNode(this.wrap(i,"span",{"background-color":t})),this.closePopup()}}createColor(t=!1){this.colorBox=document.createElement("div"),this.colorBox.classList.add("gnommy-editor-color-box"),this.colorLabel=document.createElement("label"),this.colorLabel.setAttribute("for","color"),t?(this.colorLabel.innerHTML="Select color",this.colorRemoveInput=document.createElement("input"),this.colorRemoveInput.type="checkbox",this.colorRemoveInput.name="transparent",this.colorRemoveInput.id="transparent",this.colorRemoveInputLabel=document.createElement("label"),this.colorRemoveInputLabel.setAttribute("for","transparent"),this.colorRemoveInputLabel.innerHTML="Remove color"):this.colorLabel.innerHTML="Text color",this.colorInput=document.createElement("input"),this.colorInput.type="color",this.colorInput.name="color",this.colorInput.id="color",this.linkeditButtonBox=document.createElement("div"),this.linkeditButtonBox.classList.add("gnommy-editor-linkpopup-buttons"),this.linkeditOkButton=document.createElement("button"),this.linkeditOkButton.innerHTML="OK",this.linkeditCancelButton=document.createElement("button"),this.linkeditCancelButton.innerHTML="Cancel",this.linkeditButtonBox.append(this.linkeditOkButton,this.linkeditCancelButton),this.colorBox.append(this.colorLabel,this.colorInput),t&&this.colorBox.append(this.colorRemoveInput,this.colorRemoveInputLabel),this.colorBox.append(this.linkeditButtonBox);let e=this;return this.linkeditCancelButton.addEventListener("click",function(){e.closePopup()}),this.linkeditOkButton.addEventListener("click",function(){let i=e.colorInput.value;i&&(t?(e.colorRemoveInput.checked&&(i="transparent"),e.setBgColor(i)):e.setTextColor(i))}),this.colorBox}createImageMenu(t,e=null){this.imageMenuBox&&this.imageMenuBox.remove(),this.imageMenuBox=document.createElement("div");let i=document.createElement("button"),n=document.createElement("button");this.imageMenuBox.classList.add("gnommy-editor-image-menu-box"),e&&(this.imageMenuBox.dataset.imgid=e),i.innerHTML="Edit",n.innerHTML="Delete",this.imageMenuBox.append(i,n);let o=this.getCoordsInBox(t);this.imageMenuBox.style.top=o.top+5+"px",this.imageMenuBox.style.right=o.right-10+"px",this.editorfieldbox.append(this.imageMenuBox);let s=this;return i.addEventListener("click",function(){s.editImageBox(t)}),n.addEventListener("click",function(){s.deleteImage(t,this.imageMenuBox)}),this.imageMenuBox}removeImageMenu(){this.imageMenuBox.remove()}editImageBox(t){this.openPopup(this.editImagePopup(t),"free")}deleteImage(t){if(t){this.imageMenuBox.remove(),this.imageMenuBox=null;let e=new Range;e.selectNode(t),e.deleteContents(),e.collapse()}}openPopup(t,e=null){this.popupwindow.append(t),this.popuplayer.classList.add("active"),this.isEmpty(e)||this.popupwindow.classList.add(e)}closePopup(){this.popuplayer.classList.remove("active"),this.popupwindow.className="",this.popupwindow.classList.add("gnommy-editor-popup-window"),this.popupwindow.innerHTML=""}contextMenu(t,e){}getCoordsInField(t){if(t){let e=this.editorfield.getBoundingClientRect(),i=t.getBoundingClientRect();return{top:i.top-e.top,right:e.right-i.right,bottom:e.bottom-i.bottom,left:i.left-e.left}}return{top:null,right:null,bottom:null,left:null}}getCoordsInBox(t){if(t){let e=this.editorfieldbox.getBoundingClientRect(),i=t.getBoundingClientRect();return{top:i.top-e.top+this.editorfieldbox.scrollTop,right:e.right-i.right,bottom:e.bottom-i.bottom,left:i.left-e.left+this.editorfieldbox.scrollLeft}}return{top:null,right:null,bottom:null,left:null}}openPopup(t,e=null){this.popupwindow.append(t),this.popuplayer.classList.add("active"),this.isEmpty(e)||this.popupwindow.classList.add(e)}closePopup(){this.popuplayer.classList.remove("active"),this.popupwindow.className="",this.popupwindow.classList.add("gnommy-editor-popup-window"),this.popupwindow.innerHTML=""}setList(t=!1,e=null){let i=document.getSelection(),n=i.getRangeAt(0);if((i.anchorNode.parentNode.closest(".gnommy-editor-field")||i.anchorNode.parentNode.classList.contains("gnommy-editor-field"))&&i.anchorNode.parentNode.closest(".gnommy-editor-box")===this.editorbox){let o=n.commonAncestorContainer,s=!1,$=!1,a=this.getParent(n.startContainer,"LI"),d=this.getParent(n.endContainer,"LI"),l;if("OL"==o.nodeName||"UL"==o.nodeName){if(a===o.firstChild&&(s=!0),d===o.lastChild&&($=!0),n.setStartBefore(a),n.setEndAfter(d),l=n.extractContents(),s&&!$)return n.setStartBefore(o),n.collapse(!0),n.insertNode(this.unwrap(l.childNodes,"li")),!0;if(!s&&$)return n.setEndAfter(o),n.collapse(),n.insertNode(this.unwrap(l.childNodes,"li")),n.collapse(),!0;{if(s&&$)return n.selectNode(o),n.deleteContents(),n.insertNode(this.unwrap(l.childNodes,"li")),n.collapse(),!0;let r=document.createElement("li"),h=document.createElement("br");r.append(h),n.insertNode(r),n.selectNode(h),n.deleteContents(),l=this.unwrap(l.childNodes,"li")}}else{if("LI"==n.commonAncestorContainer.nodeName){n.commonAncestorContainer;let _=this.getLineEndNode(n.endContainer);n.setEndAfter(_)}else{let c=this.getLineStartNode(n.startContainer),u=this.getLineEndNode(n.endContainer);n.setStartBefore(c),n.setEndAfter(u)}l=n.extractContents()}let g=[],m=0;Array.from(l.childNodes).forEach(function(t){if(void 0==g[m]&&(g[m]=""),"BR"==t.nodeName)m++;else if("P"==t.nodeName)g[++m]=t.innerHTML;else if(3!=t.nodeType){let e=document.createElement("div");e.append(t),g[m]+=e.innerHTML}else g[m]+=t.textContent});let p=document.createElement(t?"ol":"ul");g.length>0&&g.forEach(t=>{if(""!=t){let e=document.createElement("li");e.insertAdjacentHTML("afterbegin",t),p.append(e)}}),n.insertNode(p),n.collapse()}}setBreak(t=!1){let e=document.getSelection(),i=null;if(e&&e.rangeCount>0&&(i=e.getRangeAt(0)),i){i.deleteContents();let n=this.getParent(i.commonAncestorContainer,"LI");if(n||"LI"!=i.commonAncestorContainer.nodeName||(n=i.commonAncestorContainer),n){i.setStart(n,0);let o=i.extractContents();i.selectNode(n);let s=i.extractContents(),$=document.createElement("li");return $.append(o),i.insertNode($),i.setStartAfter($),i.collapse(!0),s.textContent.length>0&&i.insertNode(s),i.collapse(!0),!0}let a=this.getParagraph(e.anchorNode);if(t){if(a){i.setStart(a,0);let d=i.extractContents();i.selectNode(a);let l=i.extractContents(),r=document.createElement("p"),h=document.createElement("br");if(r.append(h),d.textContent.length>0){let _=document.createElement("p");_.append(d),i.insertNode(_),i.setStartAfter(_),i.collapse(!0)}i.insertNode(r),i.setStartAfter(r),i.collapse(!0),l.textContent.length>0&&i.insertNode(l),i.setStartAfter(h),i.collapse(!0)}else{let c=document.createElement("p"),u=document.createElement("br");c.append(u),i.insertNode(c),i.setStartAfter(u),i.collapse(!0)}}else{let g=document.createElement("br");i.insertNode(g),i.setStartAfter(g),i.collapse(!0)}}}contentClone(t,e,i=!0){if("string"==typeof t&&(t=document.querySelector(t)),"string"==typeof e&&(e=document.querySelector(e)),t instanceof HTMLElement&&e instanceof HTMLElement){let n=t.innerHTML;("input"===t.tagName.toLowerCase()||"textarea"===t.tagName.toLowerCase())&&(n=t.value),"input"===e.tagName.toLowerCase()?e.value=n:i?e.innerHTML=n:(e.innerHTML="",e.insertAdjacentHTML("afterbegin",n))}}getParagraph(t){return!!(t&&(t instanceof DocumentFragment||t instanceof HTMLElement||3==t.nodeType))&&("P"==t.tagName?t:this.getParagraph(t.parentElement))}getParent(t,e,i=!1){return"string"==typeof e&&"#"!=e.slice(0,1)&&(e=e.toUpperCase()),!this.isEmpty(e)&&!!(t&&(t instanceof DocumentFragment||t instanceof HTMLElement||3==t.nodeType))&&(t.tagName==e&&(!i||t.style[i])?t:this.getParent(t.parentElement,e))}getNextSibling(t,e){return"string"==typeof e&&"#"!=e.slice(0,1)&&(e=e.toUpperCase()),!this.isEmpty(e)&&!!(t&&(t instanceof DocumentFragment||t instanceof HTMLElement||3==t.nodeType))&&(t.nextSibling.nodeName==e||t.nextSibling==this.editorfield?t:this.getNextSibling(t.nextSibling,e))}getPreviousSibling(t,e){return"string"==typeof e&&"#"!=e.slice(0,1)&&(e=e.toUpperCase()),!this.isEmpty(e)&&!!(t&&(t instanceof DocumentFragment||t instanceof HTMLElement||3==t.nodeType))&&(t.previousSibling.nodeName==e||t.previousSibling==this.editorfield?t:this.getNextSibling(t.previousSibling,e))}getLineStartNode(t){if(t&&(t instanceof DocumentFragment||t instanceof HTMLElement||3==t.nodeType))return null===t.previousSibling?t.parentNode===this.editorfield||"LI"==t.parentNode.nodeName||"UL"==t.parentNode.nodeName||"OL"==t.parentNode.nodeName?t:"P"==t.parentNode.nodeName||"DIV"==t.parentNode.nodeName?t.parentNode:this.getLineStartNode(t.parentNode):"DIV"==t.previousSibling.nodeName||"P"==t.previousSibling.nodeName||"BR"==t.previousSibling.nodeName||"LI"==t.previousSibling.nodeName||"UL"==t.previousSibling.nodeName||"OL"==t.previousSibling.nodeName||t.previousSibling==this.editorfield?t:this.getLineStartNode(t.previousSibling);return!1}getLineEndNode(t){if(t&&(t instanceof DocumentFragment||t instanceof HTMLElement||3==t.nodeType))return null===t.nextSibling?t.parentNode===this.editorfield||"LI"==t.parentNode.nodeName||"UL"==t.parentNode.nodeName||"OL"==t.parentNode.nodeName?t:"P"==t.parentNode.nodeName||"DIV"==t.parentNode.nodeName?t.parentNode:this.getLineStartNode(t.parentNode):null===t.nextSibling||"DIV"==t.nextSibling.nodeName||"P"==t.nextSibling.nodeName||"BR"==t.nextSibling.nodeName||"LI"==t.nextSibling.nodeName||"UL"==t.nextSibling.nodeName||"OL"==t.nextSibling.nodeName||t.nextSibling==this.editorfield?t:this.getLineEndNode(t.nextSibling);return!1}isEmpty(t){return null===t||!1===t||void 0===t||""==t||t==={}||t===[]||"undefined"==t}objectToSyleStr(t={}){let e="";if(!this.isEmpty(t))for(var i in t)e+=i+":"+t[i]+";";return e}elementToString(t){let e="";if(t instanceof DocumentFragment||t instanceof HTMLElement){let i=document.createElement("div");i.append(t),e=i.innerHTML}else"string"==typeof t&&(e=t);return e}wrap(t,e=null,i=""){return t&&(t instanceof DocumentFragment||t instanceof HTMLElement)&&!this.isEmpty(e)?(e=document.createElement(e),this.isEmpty(i)||("object"==typeof i&&(i=this.objectToSyleStr(i)),e.setAttribute("style",i)),e.append(t),e):t}unwrap(t,e,i=!0,n=!1){let o=this,s=new DocumentFragment;return Array.from(t).forEach(function(t){i&&t.childNodes&&t.childNodes.length>0&&(t.childNodes.length>1||"#text"!=t.childNodes[0].nodeName)?s.append(o.unwrap(t.childNodes,e,i,n)):e.toUpperCase()==t.nodeName&&(!n||n&&t.style[n])?(s.append(t.textContent),"LI"==t.nodeName&&s.append(document.createElement("br"))):s.append(t)}),s}buttonPictures={ul:'<svg width="18px" height="18px" viewBox="0 0 30 30" version="1.1" id="svg5"><defs id="defs2" /><g id="layer1"><path id="rect1064-5" style="stroke-width:3;stroke-linecap:round" d="m 10,24 h 18 v 2 H 10 Z M 7.9430017,24.991791 A 2.9715009,2.991791 0 0 1 4.9715009,27.983582 2.9715009,2.991791 0 0 1 2,24.991791 2.9715009,2.991791 0 0 1 4.9715009,22 2.9715009,2.991791 0 0 1 7.9430017,24.991791 Z M 10,14 h 18 v 2 H 10 Z M 7.9430013,14.991791 A 2.9715009,2.991791 0 0 1 4.9715004,17.983582 2.9715009,2.991791 0 0 1 1.9999995,14.991791 2.9715009,2.991791 0 0 1 4.9715004,12 2.9715009,2.991791 0 0 1 7.9430013,14.991791 Z M 10,4 H 28 V 6 H 10 Z M 7.9430017,4.9917912 A 2.9715009,2.991791 0 0 1 4.9715009,7.9835823 2.9715009,2.991791 0 0 1 2,4.9917912 2.9715009,2.991791 0 0 1 4.9715009,2.0000002 2.9715009,2.991791 0 0 1 7.9430017,4.9917912 Z" /></g></svg>',ol:'<svg width="18px" height="18px" viewBox="0 0 30 30" version="1.1" id="svg5"><defs id="defs2" /><g id="layer1"><g aria-label="1" id="text14687" style="font-size:8.50085px;line-height:1.25;font-family:\'Barlow ExtraBold\';-inkscape-font-specification:\'Barlow ExtraBold, \';letter-spacing:0px;word-spacing:0px;stroke-width:0.212522" /><g aria-label="2" id="text14687-3" style="font-size:8.50085px;line-height:1.25;font-family:\'Barlow ExtraBold\';-inkscape-font-specification:\'Barlow ExtraBold, \';letter-spacing:0px;word-spacing:0px;stroke-width:0.212522" /><path id="path22480" d="m 6.6297508,25.08727 q 0.1700169,0.408041 0.1700169,0.875588 0,0.459046 -0.1700169,0.858586 -0.2210221,0.552555 -0.7225723,0.875587 -0.5015501,0.314532 -1.1816181,0.314532 -0.6630663,0 -1.1731172,-0.323033 -0.510051,-0.331533 -0.739574,-0.892589 -0.1360136,-0.340034 -0.1615161,-0.748075 0,-0.10201 0.1020102,-0.10201 h 1.2241223 q 0.1020102,0 0.1105111,0.10201 0.017002,0.212522 0.1020102,0.408041 0.068007,0.170017 0.2040204,0.263526 0.1360136,0.08501 0.3230323,0.08501 0.3570357,0 0.5355535,-0.323032 0.1190119,-0.212522 0.1190119,-0.561056 0,-0.340034 -0.1190119,-0.59506 -0.1785178,-0.314531 -0.5440544,-0.314531 -0.093509,0 -0.2125212,0.06801 -0.1105111,0.05951 -0.2890289,0.187019 -0.042504,0.0255 -0.068007,0.0255 -0.051005,0 -0.076508,-0.051 L 3.4589338,24.390201 q -0.025502,-0.04251 -0.025502,-0.06801 0,-0.051 0.042504,-0.07651 l 1.3091309,-0.994599 q 0.017002,-0.017 0.0085,-0.034 0,-0.017 -0.025502,-0.017 H 2.9063786 q -0.042504,0 -0.076508,-0.0255 -0.025502,-0.034 -0.025502,-0.07651 v -1.0031 q 0,-0.0425 0.025502,-0.06801 0.034003,-0.034 0.076508,-0.034 h 3.7063705 q 0.042504,0 0.068007,0.034 0.034003,0.0255 0.034003,0.06801 v 1.130613 q 0,0.07651 -0.059506,0.127513 l -1.0286028,0.807581 q -0.017002,0.017 -0.017002,0.034 0.0085,0.017 0.034003,0.0255 0.680068,0.178517 0.9860986,0.867086 z M 4.6660545,16.747922 q -0.017002,0.017 -0.0085,0.034 0.0085,0.017 0.034003,0.017 h 2.1677167 q 0.042504,0 0.068007,0.034 0.034003,0.0255 0.034003,0.06801 v 1.0031 q 0,0.0425 -0.034003,0.07651 -0.025503,0.0255 -0.068007,0.0255 h -3.986899 q -0.042504,0 -0.076508,-0.0255 -0.025502,-0.034 -0.025502,-0.07651 v -0.943594 q 0,-0.07651 0.051005,-0.127513 0.510051,-0.476048 1.3516351,-1.368637 l 0.510051,-0.535553 q 0.7735773,-0.79908 0.7735773,-1.164617 0,-0.246524 -0.1870187,-0.408041 -0.1785178,-0.161516 -0.4675467,-0.161516 -0.2890289,0 -0.4675468,0.161516 -0.1785178,0.161517 -0.1785178,0.425043 v 0.20402 q 0,0.04251 -0.034003,0.07651 -0.025503,0.0255 -0.068007,0.0255 H 2.8298709 q -0.042504,0 -0.076508,-0.0255 -0.025503,-0.034 -0.025503,-0.07651 v -0.425042 q 0.034003,-0.476048 0.3145315,-0.833083 0.280528,-0.357036 0.7395739,-0.544055 0.4590459,-0.195519 1.020102,-0.195519 0.6290628,0 1.0966096,0.238023 0.4760476,0.229523 0.7225722,0.629063 0.2550255,0.39954 0.2550255,0.884089 0,0.348534 -0.170017,0.70557 -0.170017,0.357036 -0.510051,0.756576 Q 5.9581828,15.489791 5.6606531,15.78732 5.3631233,16.08485 4.8360707,16.5864 Z M 4.2025246,2.0691242 q 0.068007,-0.025503 0.1275127,-0.025503 h 1.2411241 q 0.042504,0 0.068007,0.034003 0.034003,0.025503 0.034003,0.068007 v 5.7465744 q 0,0.042504 -0.034003,0.076508 -0.025503,0.025502 -0.068007,0.025502 H 4.3640407 q -0.042504,0 -0.076508,-0.025502 -0.025503,-0.034003 -0.025503,-0.076508 V 3.3952567 q 0,-0.017002 -0.017002,-0.034003 -0.017002,-0.017002 -0.034003,-0.0085 l -0.8330832,0.1955195 -0.034003,0.0085 q -0.076508,0 -0.076508,-0.093509 L 3.2504294,2.5706743 q 0,-0.085008 0.076508,-0.1190119 z M 10,24 h 18 v 2 H 10 Z m 0,-10 h 18 v 2 H 10 Z M 10,4 H 28 V 6 H 10 Z" style="font-size:8.50085px;line-height:1.25;font-family:\'Barlow ExtraBold\';-inkscape-font-specification:\'Barlow ExtraBold, \';letter-spacing:0px;word-spacing:0px;stroke-width:0.212522" /></g></svg>',link:'<svg width="18px" height="18px" viewBox="0 0 30 30" version="1.1" id="svg5"><defs id="defs2" /><g id="layer1"><g aria-label="a" id="text14687" style="font-size:8.50085px;line-height:1.25;font-family:\'Barlow ExtraBold\';-inkscape-font-specification:\'Barlow ExtraBold, \';letter-spacing:0px;word-spacing:0px;stroke-width:0.212522" /><g aria-label="b" id="text14687-3" style="font-size:8.50085px;line-height:1.25;font-family:\'Barlow ExtraBold\';-inkscape-font-specification:\'Barlow ExtraBold, \';letter-spacing:0px;word-spacing:0px;stroke-width:0.212522" /><path id="path30795" style="color:#000000;fill:#000000;stroke-width:0.860644;stroke-linecap:round;-inkscape-stroke:none" d="m 17.52095,15.640807 c 1.300807,-0.567273 2.880881,-0.321499 3.939699,0.737319 l 5.477102,5.477102 c 1.378884,1.378883 1.378884,3.641794 0,5.020676 -1.378882,1.378883 -3.641792,1.378883 -5.020676,0 l -5.477102,-5.477102 c -1.06846,-1.068461 -1.309,-2.667715 -0.721618,-3.975167 l 1.620754,1.66488 c 0.04396,0.340773 0.200673,0.671545 0.47014,0.941012 l 5.477103,5.477101 c 0.64399,0.643991 1.638134,0.643991 2.282124,0 0.64399,-0.643989 0.64399,-1.638134 0,-2.282124 l -5.477102,-5.477102 c -0.285473,-0.285475 -0.639754,-0.4444 -1.001839,-0.476781 z M 11.154289,9.8325194 a 0.89059384,0.89059384 0 0 0 -1.2599225,0 0.89059384,0.89059384 0 0 0 0,1.2599226 l 9.1285015,9.128502 a 0.89059384,0.89059384 0 0 0 1.258733,-0.0011 0.89059384,0.89059384 0 0 0 0.0011,-1.258734 z m 3.157322,2.5989476 C 14.878883,11.130661 14.63311,9.5505883 13.574293,8.4917699 L 8.0971935,3.0146693 c -1.3788833,-1.3788834 -3.6417927,-1.3788834 -5.0206763,0 -1.3788832,1.3788835 -1.3788832,3.6417923 0,5.0206758 l 5.4771015,5.4770999 c 1.0684578,1.068461 2.6677133,1.309 3.9751643,0.721618 L 10.863903,12.61331 C 10.52313,12.56935 10.192359,12.412637 9.9228935,12.14317 L 4.4457925,6.6660699 c -0.6439903,-0.6439904 -0.6439903,-1.6381351 0,-2.2821254 0.6439903,-0.6439904 1.6381347,-0.6439904 2.282125,0 l 5.4771005,5.4771012 c 0.285474,0.2854723 0.444399,0.6397523 0.47678,1.0018363 z" /></g></svg>',unlink:'<svg width="18px" height="18px" viewBox="0 0 30 30" version="1.1" id="svg5"><defs id="defs2" /><g id="layer1"><g aria-label="a" id="text14687" style="font-size:8.50085px;line-height:1.25;font-family:\'Barlow ExtraBold\';-inkscape-font-specification:\'Barlow ExtraBold, \';letter-spacing:0px;word-spacing:0px;stroke-width:0.212522" /><g aria-label="b" id="text14687-3" style="font-size:8.50085px;line-height:1.25;font-family:\'Barlow ExtraBold\';-inkscape-font-specification:\'Barlow ExtraBold, \';letter-spacing:0px;word-spacing:0px;stroke-width:0.212522" /><path id="path32213" style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.135402px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" d="M 12.529144,15.861136 9.9345687,17.966309 9.344536,16.357302 Z m 0.945985,1.059781 0.09348,3.535012 -1.730809,-0.542465 z m 3.720258,-3.018249 2.594575,-2.105173 0.590033,1.609007 z m -0.912233,-0.917738 -0.09348,-3.535011 1.73081,0.5424641 z m 1.237796,2.655877 c 1.300807,-0.567273 2.880881,-0.321499 3.939699,0.737319 l 5.477102,5.477102 c 1.378884,1.378883 1.378884,3.641794 0,5.020676 -1.378882,1.378883 -3.641792,1.378883 -5.020676,0 l -5.477102,-5.477102 c -1.06846,-1.068461 -1.309,-2.667715 -0.721618,-3.975167 l 1.620754,1.66488 c 0.04396,0.340773 0.200673,0.671545 0.47014,0.941012 l 5.477103,5.477101 c 0.64399,0.643991 1.638134,0.643991 2.282124,0 0.64399,-0.643989 0.64399,-1.638134 0,-2.282124 l -5.477102,-5.477102 c -0.285473,-0.285475 -0.639754,-0.4444 -1.001839,-0.476781 z m -2.640393,0.437826 4.142311,4.142311 c 0.348015,0.346991 0.911325,0.346498 1.258733,-0.0011 0.347599,-0.347408 0.348091,-0.910719 0.0011,-1.258734 l -4.197363,-4.197445 c -1.466896,-0.223377 0.224293,1.626651 -1.204781,1.314968 z m -0.06767,-2.587448 -3.658594,-3.6586656 c -0.347848,-0.348087 -0.912075,-0.348087 -1.2599225,0 -0.3480871,0.3478476 -0.3480871,0.9120746 0,1.2599226 l 3.5937035,3.593704 c 1.652874,0.236978 0.04257,-1.184713 1.324813,-1.194961 z M 14.311611,12.431467 C 14.878883,11.130661 14.63311,9.5505883 13.574293,8.4917699 L 8.0971935,3.0146693 c -1.3788833,-1.3788834 -3.6417927,-1.3788834 -5.0206763,0 -1.3788832,1.3788835 -1.3788832,3.6417923 0,5.0206758 l 5.4771015,5.4770999 c 1.0684578,1.068461 2.6677133,1.309 3.9751643,0.721618 L 10.863903,12.61331 C 10.52313,12.56935 10.192359,12.412637 9.9228935,12.14317 L 4.4457925,6.6660699 c -0.6439903,-0.6439904 -0.6439903,-1.6381351 0,-2.2821254 0.6439903,-0.6439904 1.6381347,-0.6439904 2.282125,0 l 5.4771005,5.4771012 c 0.285474,0.2854723 0.444399,0.6397523 0.47678,1.0018363 z" /></g></svg>',image:'<svg width="18px" height="18px" viewBox="0 0 30 30" version="1.1" id="svg5"><defs id="defs2" /><g id="layer1"><g aria-label="a" id="text14687" style="font-size:8.50085px;line-height:1.25;font-family:\'Barlow ExtraBold\';-inkscape-font-specification:\'Barlow ExtraBold, \';letter-spacing:0px;word-spacing:0px;stroke-width:0.212522" /><g aria-label="b" id="text14687-3" style="font-size:8.50085px;line-height:1.25;font-family:\'Barlow ExtraBold\';-inkscape-font-specification:\'Barlow ExtraBold, \';letter-spacing:0px;word-spacing:0px;stroke-width:0.212522" /><path id="path32546" style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.999999px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" transform="scale(0.26458333)" d="M 49.134766,45.353516 26.457031,75.589844 V 98.267578 H 86.929688 V 64.251953 L 75.589844,52.914062 64.251953,64.251953 Z m 0,4 9.949218,12.4375 c 3.038457,3.79807 -1.59889,2.487883 -4.617187,3.667968 -2.115644,0.827169 -2.323405,4.711514 -3.304688,4.582032 -2.265516,-0.298923 -2.079626,-5.578141 -4.421875,-4.699219 -6.648907,2.494976 -11.979434,9.7537 -9.333984,-0.351563 z m 26.455078,7.560546 5.603515,5.601563 c -1.095031,0.35743 -2.399246,-1.443529 -2.02539,2.507813 -1.637182,-0.189619 -2.869768,-4.213703 -4.97461,0.0625 -0.88004,-0.175182 -1.563768,-0.746943 -1.996093,-1.84375 -0.540405,-1.371013 -3.028216,0.950253 -4.91211,2.070312 l 2.285156,-2.378906 z M 14.992618,7.4335632 V 11.338583 109.73179 H 98.393209 V 7.4335632 Z m 7.81004,7.8100388 H 90.583171 V 101.92175 H 22.802658 Z" /></g></svg>',background:'<svg width="18px" height="18px" viewBox="0 0 30 30" version="1.1"><defs id="defs2" /><g id="layer1"><path id="rect3759" style="fill:#000000;fill-opacity:1;stroke:none;stroke-width:2.3811;stroke-linecap:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="M 7.5585938 7.5585938 L 7.5585938 105.82617 L 105.82617 105.82617 L 105.82617 7.5585938 L 7.5585938 7.5585938 z M 49.777344 15.117188 L 63.701172 15.117188 L 98.300781 98.267578 L 85.53125 98.267578 L 77.261719 76.9375 L 36.339844 76.9375 L 28.070312 98.267578 L 15.117188 98.267578 L 49.777344 15.117188 z M 56.708984 26.201172 L 40.048828 67.580078 L 73.431641 67.580078 L 56.708984 26.201172 z " transform="scale(0.26458333)" /><g aria-label="A" transform="matrix(0.88533366,0,0,0.81089007,2.2488146,2.331147)" id="text2709" style="font-size:37.2161px;letter-spacing:0px;word-spacing:0px;fill:#ffffff;fill-opacity:1;stroke:none;stroke-width:0.930404;stroke-opacity:1" /></g></svg>',color:'<svg width="16px" height="16px" viewBox="0 0 30 30" version="1.1" id="svg5"><defs id="defs2" /><g id="layer1"><g aria-label="A" transform="scale(1.0448834,0.95704457)" id="text2709" style="font-size:37.2161px;letter-spacing:0px;word-spacing:0px;stroke-width:0.63;fill:none;stroke:#000000"><path style="color:#000000;fill:#000000;stroke:none;-inkscape-stroke:none" d="M 12.119141,1.7421875 12.041016,1.9453125 1.5214844,29.503906 H 6.0703125 L 8.5429688,22.542969 H 20.328125 l 2.470703,6.960937 h 4.496094 L 16.714844,1.7421875 Z m 0.433593,0.6308594 H 16.28125 L 26.380859,28.873047 H 23.244141 L 20.771484,21.914062 H 8.0976563 L 5.6269531,28.873047 H 2.4355469 Z M 14.40625,4.765625 14.111328,5.5644531 8.9765625,19.490234 H 19.857422 Z m 0.002,1.8183594 4.544922,12.2773436 H 9.8808594 Z" id="path3509" /></g></g></svg>'}}